/**
 * Created by Mateo on 13/10/2014.
 */
(function(b){b.fn.customtooltip=function(d){d=b.extend({fontSize:"10px",fontColor:"#000",containerWidth:"250px",tamper:",",splited:!1,wrapper:"p"},d);this.each(function(){var a=b(this),c=a.attr("data-text");a.bind(customTooltip(a,c,"<div id='tooltipWrapper'></div>",d))});return this}})(jQuery);
function customTooltip(b,d,a,c){$(b).on("mouseenter",function(){0<$("#tooltipWrapper").length&&$("#tooltipWrapper").remove();$("body").append(a);var b=buildContent(c,d);$("#tooltipWrapper").html(b).css({"font-size":c.fontSize,color:c.fontColor,width:c.containerWidth});followMouse(c.containerWidth)});$(b).on("mouseleave",function(){$("#tooltipWrapper").remove();$(document).unbind(followMouse())})}
function buildContent(b,d){var a="";if(b.splited){var c=d.split(b.tamper),e;for(e in c)a+="<"+b.wrapper+">"+c[e]+"</"+b.wrapper+">";"li"==b.wrapper&&(a="<ul>"+a+"</ul>");return a}return d}
function followMouse(b){$(document).on("mousemove",function(b){var a=$("#tooltipWrapper"),c=a.outerWidth()-a.innerWidth(),e=a.innerWidth()-a.width(),f=a.outerWidth(!0)-a.outerWidth(),a=a.width()+c+e+f;b.pageX<$(window).width()-a?$("#tooltipWrapper").css({left:b.pageX+10,top:b.pageY+10}):$("#tooltipWrapper").css({left:b.pageX-10-a,top:b.pageY+10})})};